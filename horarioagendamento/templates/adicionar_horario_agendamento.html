{% extends "base_login.html" %}

{% block title %}Adicionar Horário de Agendamento{% endblock %}

{% block content %}
<div class="container">
    <h2>Adicionar Horário de Agendamento</h2>
    <form method="post" id="agendamento-form">
        {% csrf_token %}

        <!-- Campo para selecionar o condomínio -->
        <div class="form-group">
            <label for="condominio">Condomínio:</label>
            <select id="condominio" name="condominio" class="form-control" onchange="this.form.submit();">
                <option value="">Selecione um condomínio</option>
                {% for condominio in condominios %}
                    <option value="{{ condominio.id }}" {% if selected_condominio == condominio.id|stringformat:"d" %}selected{% endif %}>{{ condominio.nome_condominio }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Campo para selecionar a área -->
        <div class="form-group">
            <label for="area">Área:</label>
            <select id="area" name="area" class="form-control">
                <option value="">Selecione uma área</option>
                {% for area in areas %}
                    <option value="{{ area.id }}">{{ area.nome_area }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Campos do formulário de agendamento -->
        {{ form.horario_inicio.label_tag }}
        {{ form.horario_inicio }}
        {{ form.horario_fim.label_tag }}
        {{ form.horario_fim }}
        {{ form.status.label_tag }}
        {{ form.status }}

        <button type="submit" class="btn btn-success">Salvar</button>
        <a href="{% url 'listar_agendamento_horarios' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>
{% endblock %}
