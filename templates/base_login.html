{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} Severus {% endblock %}</title>
    {% block css %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
    {% endblock %}
</head>

<body>

{% block menu %}
<nav class="navbar navbar-expand-lg ">
    <div class="container-fluid">
        <a class="navbar-brand" href="#" style="margin-right: 120px;">
            <div class="icon-container">
                <img src="{% static 'img/icon.png' %}" alt="Logo" class="navbar img.icon-img" style="max-width: 65%; height: 65px; margin-left: 20px; margin-top: 20px;">
            </div>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse " id="navbarNav">
            <ul class="navbar-nav d-flex ">
                <li class="nav-item">
                <a class="nav-link custom-nav-link" href="{% url 'configuracao' %}">
                    <img src="{% static 'img/configuracao.png' %}" alt="Configuração"
                         style="width: 30px; height: 30px; margin-right: 5px; filter: invert(1);">
                    CFG</a>

                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/apartamentos.png' %}" alt="Apartamentos" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">
                    CDM</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/pessoa.png' %}" alt="Pessoa" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">
                    PS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/app.png' %}" alt="App" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">
                    APP</a>
                </li>
                <!-- Ajuste específico para O.S com font-size 15px -->
                <li class="nav-item">
                    <a class="nav-link custom-nav-link os-link" href="#">
                        <img src="{% static 'img/os.png' %}" alt="O.S" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">
                        <span>𝐎.𝐒</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/v2.png' %}" alt="V.2" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐕.𝟐
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/alarme.png' %}" alt="C.A" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐂.𝐀
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="{% url 'menu_adm' %}">
                        <img src="{% static 'img/casa.png' %}" alt="SCR" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐒𝐑𝐂
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/suporte.png' %}" alt="suporte" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐒𝐒𝐓
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/ti.png' %}" alt="ti" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐒𝐓𝐈
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/operacional.png' %}" alt="operacional" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐂𝐎𝐈
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/suporte.png' %}" alt="suporte" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐒𝐎𝐏
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link custom-nav-link" href="#">
                        <img src="{% static 'img/comercial.png' %}" alt="comercial" style="width: 30px; height: 30px; margin-right: 5px;filter: invert(1);">𝐂𝐎𝐌
                    </a>
                </li>
                <li class="nav-item">
                    <form method="POST" action="{% url 'logout' %}" style="display: inline;">
                        {% csrf_token %}
                        <button type="submit" class="nav-link custom-nav-link logout-link" style="background: none; border: none; padding: 0;">
                            <img src="{% static 'img/sair.png' %}" alt="sair" style="width: 30px; height: 30px; margin-right: 5px;">𝐒𝐚𝐢𝐫
                        </button>
                    </form>
                </li>

            </ul>
        </div>
    </div>
</nav>
{% endblock %}

<div class="content">
    <br>
    <br>
    {% if messages %}
    <div id="message-container">
        {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-success{% endif %}" role="alert">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% block content %}{% endblock %}
    <br>
    <br>
    <br>
</div>



<!-- Scripts do Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

<!-- Adicione o jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Adicione o plugin de máscara -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>

<script>
// script genérico que aplique máscaras a todos os campos de CPF e telefone
$(document).ready(function() {
    // Máscaras
    $('input[id^="cpf"]').mask('000.000.000-00', {reverse: true});  // Máscara para CPF
    $('input[id^="celular"]').mask('(00) 0 0000-0000');  // Máscara para celular

    // Maiúscula na primeira letra de cada palavra
    $('input[type="text"], textarea').on('input', function() {
        const value = $(this).val();
        const capitalizedValue = value.split(' ').map(word =>
            word.charAt(0).toUpperCase() + word.slice(1)
        ).join(' ');
        $(this).val(capitalizedValue);
    });
});

document.addEventListener('DOMContentLoaded', function() {
    // Seleciona todos os alertas dentro do container de mensagens
    const alerts = document.querySelectorAll('#message-container .alert');

    alerts.forEach(alert => {
        // Define um timeout para esconder o alerta após 3 segundos
        setTimeout(() => {
            alert.style.transition = 'opacity 0.5s ease'; // Adiciona uma transição suave
            alert.style.opacity = '0'; // Define a opacidade para 0
            // Espera 0.5 segundos (para a transição) e então remove o alerta do DOM
            setTimeout(() => {
                alert.remove();
            }, 500);
        }, 3000); // 3 segundos
    });
});
</script>

{% block extra_js %}{% endblock %}

{% block footer %}
<footer class="text-center mt-5">
    <strong>
        <h2 class="d-inline">SEVERUS </h2>
        Tecnologia Segurança © - 2024 - (27) 3026-2196
    </strong>
</footer>
{% endblock %}

</body>
</html>
