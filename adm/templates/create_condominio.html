{% extends 'base_login.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/styles_condominios.css' %}">
{% endblock %}

{% block menu %}
{% endblock %}

{% block content %}
<div class="container">
    <form method="post" id="condominium-form">
        {% csrf_token %}
        <h2>Criar Condomínio</h2>
        <div class="row">
            <div class="col-md-6">
                <!-- Campo Nome do Condomínio -->
                <div class="form-group">
                    <label for="id_nome_condominio">Nome do Condomínio:</label>
                    {{ form.nome_condominio }}
                    <div class="error-message">{{ form.nome_condominio.errors }}</div>
                </div>

        <div class="form-group row">
          <!-- Campo Data do Condomínio -->
          <div class="form-group">
              <label for="id_data_condominio">Data do Condomínio:</label>
              {{ form.data_condominio }}
              <div class="error-message">{{ form.data_condominio.errors }}</div>
          </div>

          <!-- Campo CNPJ -->
          <div class="form-group">
              <label for="id_cnpj">CNPJ:</label>
              {{ form.cnpj }}
              <div class="error-message">{{ form.cnpj.errors }}</div>
          </div>

        </div>
        <!-- Campo Logradouro -->
        <div class="form-group">
            <label for="id_logradouro">Logradouro:</label>
            {{ form.logradouro }}
            <div class="error-message">{{ form.logradouro.errors }}</div>
        </div>

        <!-- Campo Número -->
        <div class="form-group">
            <label for="id_numero">Número:</label>
            {{ form.numero }}
            <div class="error-message">{{ form.numero.errors }}</div>
        </div>

        <!-- Campo Complemento -->
        <div class="form-group">
            <label for="id_complemento">Complemento:</label>
            {{ form.complemento }}
            <div class="error-message">{{ form.complemento.errors }}</div>
        </div>

        <!-- Campo Bairro -->
        <div class="form-group">
            <label for="id_bairro">Bairro:</label>
            {{ form.bairro }}
            <div class="error-message">{{ form.bairro.errors }}</div>
        </div>

        <!-- Campo Cidade -->
        <div class="form-group">
            <label for="id_cidade">Cidade:</label>
            {{ form.cidade }}
            <div class="error-message">{{ form.cidade.errors }}</div>
        </div>

        <!-- Campo UF -->
        <div class="form-group">
            <label for="id_uf">UF:</label>
            {{ form.uf }}
            <div class="error-message">{{ form.uf.errors }}</div>
        </div>

        <!-- Campo CEP -->
        <div class="form-group">
            <label for="id_cep">CEP:</label>
            {{ form.cep }}
            <div class="error-message">{{ form.cep.errors }}</div>
        </div>

        <!-- Campo Ramal do Condomínio -->
        <div class="form-group">
            <label for="id_ramal_condominio">Ramal do Condomínio:</label>
            {{ form.ramal_condominio }}
            <div class="error-message">{{ form.ramal_condominio.errors }}</div>
        </div>

        <!-- Campo Ramal Interno -->
        <div class="form-group">
            <label for="id_ramal_interno">Ramal Interno:</label>
            {{ form.ramal_interno }}
            <div class="error-message">{{ form.ramal_interno.errors }}</div>
        </div>

        <!-- Campo Telefone -->
        <div class="form-group">
            <label for="id_telefone">Telefone:</label>
            {{ form.telefone }}
            <div class="error-message">{{ form.telefone.errors }}</div>
        </div>

        <!-- Campo Internet -->
        <div class="form-group">
            <label for="id_internet">Internet:</label>
            {{ form.internet }}
            <div class="error-message">{{ form.internet.errors }}</div>
        </div>

        <!-- Campo Unidade -->
        <div class="form-group">
            <label for="id_unidade">Unidade:</label>
            {{ form.unidade }}
            <div class="error-message">{{ form.unidade.errors }}</div>
        </div>

        <!-- Campo Suporte Unidade -->
        <div class="form-group">
            <label for="id_suporteunidade">Suporte Unidade:</label>
            {{ form.suporteunidade }}
            <div class="error-message">{{ form.suporteunidade.errors }}</div>
        </div>

        <!-- Campo Entregadores Norma -->
        <div class="form-group">
            <label for="id_entregadores_norma">Entregadores Norma:</label>
            {{ form.entregadores_norma }}
            <div class="error-message">{{ form.entregadores_norma.errors }}</div>
        </div>

        <!-- Campo Prestadores Norma -->
        <div class="form-group">
            <label for="id_prestadores_norma">Prestadores Norma:</label>
            {{ form.prestadores_norma }}
            <div class="error-message">{{ form.prestadores_norma.errors }}</div>
        </div>

        <!-- Campo Reservas Norma -->
        <div class="form-group">
            <label for="id_reservas_norma">Reservas Norma:</label>
            {{ form.reservas_norma }}
            <div class="error-message">{{ form.reservas_norma.errors }}</div>
        </div>

        <!-- Campo Mudanças Norma -->
        <div class="form-group">
            <label for="id_mudancas_norma">Mudanças Norma:</label>
            {{ form.mudancas_norma }}
            <div class="error-message">{{ form.mudancas_norma.errors }}</div>
        </div>

        <!-- Campo Responsável Tattica -->
        <div class="form-group">
            <label for="id_responsavel_tattica">Responsável Tattica:</label>
            {{ form.responsavel_tattica }}
            <div class="error-message">{{ form.responsavel_tattica.errors }}</div>
        </div>

        <!-- Campo Norma Observação -->
        <div class="form-group">
            <label for="id_norma_observacao">Norma Observação:</label>
            {{ form.norma_observacao }}
            <div class="error-message">{{ form.norma_observacao.errors }}</div>
        </div>

        <!-- Campo Website -->
        <div class="form-group">
            <label for="id_website">Website:</label>
            {{ form.website }}
            <div class="error-message">{{ form.website.errors }}</div>
        </div>

        <!-- Campo Website Agendamento -->
        <div class="form-group">
            <label for="id_website_agendamento">Website Agendamento:</label>
            {{ form.website_agendamento }}
            <div class="error-message">{{ form.website_agendamento.errors }}</div>
        </div>

        <!-- Campo Financeiro Responsável -->
        <div class="form-group">
            <label for="id_financeiro_responsavel">Financeiro Responsável:</label>
            {{ form.financeiro_responsavel }}
            <div class="error-message">{{ form.financeiro_responsavel.errors }}</div>
        </div>

        <!-- Campo Financeiro Email -->
        <div class="form-group">
            <label for="id_financeiro_email">Financeiro Email:</label>
            {{ form.financeiro_email }}
            <div class="error-message">{{ form.financeiro_email.errors }}</div>
        </div>

        <button type="submit">Salvar</button>

        <br><br><br><br>
      </div>
    </form>
<script>
document.getElementById('id_cep').addEventListener('blur', function() {
    const cep = this.value.replace(/\D/g, ''); // Remove caracteres não numéricos
    if (cep.length === 8) {
        fetch(`https://viacep.com.br/ws/${cep}/json/`)
            .then(response => response.json())
            .then(data => {
                if (!data.erro) {
                    document.getElementById('id_logradouro').value = data.logradouro;
                    document.getElementById('id_bairro').value = data.bairro;
                    document.getElementById('id_cidade').value = data.localidade;
                    document.getElementById('id_uf').value = data.uf;
                } else {
                    alert('CEP não encontrado.');
                }
            })
            .catch(error => {
                console.error('Erro ao buscar dados:', error);
                alert('Erro ao buscar dados do CEP.');
            });
    }
});
</script>

{% block footer %}
{% endblock %}
{% endblock %}
